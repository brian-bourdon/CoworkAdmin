{"version":3,"sources":["util/util.js","components/Deconnection.js","components/Header.js","components/TableData.js","components/Login.js","components/Connection.js","components/Profil.js","components/DetailUser.js","App.js","serviceWorker.js","index.js"],"names":["setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","split","forEach","el","k","v","trim","deleteCookie","path","upperCaseFirst","str","charAt","toUpperCase","substring","RealName","table","key","console","log","realName","formatStringToDate","s","moment","add","format","Deconnection","setConnected","history","push","Header","props","location","useLocation","useHistory","Container","fluid","className","Navbar","bg","variant","style","height","Brand","onClick","Nav","Link","pathname","replace","toLowerCase","DropdownButton","id","title","alignRight","Dropdown","Item","as","data","TableData","useState","setData","filterData","setFilterData","load","isLoading","setIsloading","uri","setUri","schema","setSchema","successModification","setSuccessModification","setAdd","formAdd","setFormAdd","successAdd","setSuccessAdd","space","setSpace","isLoadingSpace","setIsloadingSpace","users","setUsers","isLoadingUsers","setIsloadingUsers","handleFormAdd","e","val","undefined","target","value","tmp","md5","toString","handleSuccessModification","handleSuccessAdd","handleSearch","filter","regex","RegExp","includes","l","match","useEffect","uriTmp","axios","get","then","res","catch","err","res2","u","admin","Row","Col","Button","Form","map","i","Control","placeholder","type","step","onChange","Select","disabledModif","handleForm","Spinner","animation","size","role","aria-hidden","width","formData","FormData","append","fetch","body","method","json","now","addItem","disabled","Object","values","keys","length","icon","faCheck","Alert","Group","Label","tous","FormControl","onKeyUp","Table","striped","bordered","hover","pwd","TableLine","line","setDisabledModif","form","setForm","handleDisabledModif","Update","JSON","stringify","state","privativeSpace","setPrivativeSpace","isLoadingPrivativeSpace","setIsloadingPrivativeSpace","equipment","setEquipment","isLoadingEquipment","setIsloadingEquipment","rendu","traitement","meal","setMeal","isLoadingMeal","setIsloadingMeal","events","setEvents","isLoadingEvents","setIsloadingEvents","url","allOps","defaultValue","nom","firstname","lastname","Login","email","setEmail","setPwd","success","setSuccess","setIsLoading","styleVcenter","marginLeft","marginRight","controlId","Connection","minHeight","Profil","setFirstname","setLastname","date_naissance","setDate_naissance","handleDate_naissance","event","user","bind","this","required","handleRefresh","userUpdate","submitModification","DetailUser","setUser","CustomerReservations","idUser","privative","setPrivative","infos","setInfos","activeTab","setActiveTab","isDeleted","setIsDeleted","isResiliated","setIsResiliated","lg","Tabs","defaultActiveKey","onSelect","tab","handleSelect","Tab","eventKey","ListInfosUser","ListReservations","stye","Accordion","DetailsReservation","details","setDetails","field","Card","Annuler","Toggle","horaire_debut","horaire","Collapse","Body","j","abonnement","setAbonnement","resAbonnement","setResAbonnement","isLoadingDelete","setIsLoadingDelete","tmpA","id_abonnement","resA","ListGroup","ListGroupItem","idResAbonnement","Resiliation","a","created_at","endAbonnementToString","Main","styled","main","extanded","SideBar","position","expanded","selected","to","onToggle","setExtanded","setLoad","defaultSelected","active","faUsers","fontSize","verticalAlign","paddingRight","faBuilding","faKey","faLaptopHouse","faUtensils","faCalendarAlt","faFolder","App","backgroundColor","basename","render","Fragment","exact","component","paddingTop","paddingBottom","Boolean","window","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.767f15fc.chunk.js","sourcesContent":["import React from 'react'\r\nimport moment from 'moment';\r\n\r\n\r\nexport const setCookie = (cname, cvalue, exdays) => {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    var expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\nexport const getCookie = (name) => {\r\n    let cookie = {};\r\n    document.cookie.split(';').forEach(function(el) {\r\n      let [k,v] = el.split('=');\r\n      cookie[k.trim()] = v;\r\n    })\r\n    return cookie[name];\r\n  }\r\n\r\nexport const deleteCookie = ( name, path ) => {\r\n    if( getCookie( name ) ) {\r\n      document.cookie = name + \"=\" +\r\n        ((path) ? \";path=\"+path:\"\")+\r\n        \";expires=Thu, 01 Jan 1970 00:00:01 GMT\";\r\n    }\r\n  }\r\n\r\n  export const upperCaseFirst = (str) => {\r\n    return str.charAt(0).toUpperCase() + str.substring(1);\r\n  }\r\n  \r\n  export const isEmpty = (obj) => {\r\n    return Object.keys(obj).length === 0;\r\n  }\r\n\r\n  export const text_sans_abonnment = (<><p>Payez le temps passé sur\r\n    place, les consommations\r\n    sont incluses et à volonté !</p>\r\n    <p>Accessible sans\r\n    réservation ou\r\n    abonnement.</p>\r\n    <p>Tarifs par personne :\r\n    Première heure : 5€\r\n    ½ heure suivante : 2,5€\r\n    Journée (5 heures et plus) :\r\n    24€\r\n    </p>\r\n    <p>Réduction étudiante :\r\n    Journée (5 heures et plus) :\r\n    20€\r\n    </p>\r\n    <p>Accès open space (sans\r\n    possibilité de changer\r\n    d'adresse)\r\n    Wifi\r\n    Snacking et boissons à\r\n    volonté\r\n    Cabines téléphonique\r\n    </p></>)\r\n  export const text_abonnment_simple = (<>\r\n    <p>Rejoignez la communauté\r\n  CO'WORK et bénéficiez de\r\n  tarifs préférentiels !</p>\r\n  <p>Tarifs membre par\r\n  personne :\r\n  Première heure : 4€\r\n  ½ heure suivante : 2€\r\n  Journée (5 heures et plus) :\r\n  20€</p>\r\n  <p>Devenir membre sans\r\n  engagement :\r\n  24€ TTC /mois</p>\r\n  <p>Devenir membre sans\r\n  engagement 12 mois :\r\n  20€ TTC /mois\r\n  </p>\r\n  <p>Accès open space\r\n  Wifi\r\n  Snacking et boissons à\r\n  volonté\r\n  Cabines téléphonique\r\n  Accès libre à tous les\r\n  espaces\r\n  Accès premium au HUB\r\n  </p>\r\n    </>)\r\n  export const text_abonnement_residant = (<>\r\n  <p>Rejoignez la communauté\r\n  CO'WORK et devenez\r\n  membre résident !</p>\r\n  <p>Bénéficiez d'un accès en\r\n  illimité 7/7j</p>\r\n  <p>Devenir membre résident\r\n  sans engagement :\r\n  300€ TTC /mois\r\n  </p>\r\n  <p>Devenir membre résident\r\n  avec engagement 8 mois:\r\n  252€ TTC /mois</p>\r\n  </>)\r\n\r\nexport function RealName(table, key) {\r\n  console.log(table)\r\n  console.log(key)\r\n  let realName = null\r\n  if(table === \"user\") {\r\n      if(key === \"firstname\") realName = \"Prénom\"\r\n      else if(key === \"lastname\") realName = \"Nom\"\r\n      else if(key === \"date_naissance\") realName = \"Date de naissance\"\r\n      else if(key === \"email\") realName = \"Email\"\r\n      else if(key === \"admin\") realName = \"Administrateur\"\r\n      else if(key === \"nom\") realName = \"Type d'abonnement\"\r\n      else if(key === \"pwd\") realName = \"Mot de passe\"\r\n      else if(key === \"false\") realName = \"Non\"\r\n      else if(key === \"true\") realName = \"Oui\"\r\n  }\r\n  else if(table === \"res_privative\") {\r\n      if(key === \"horaire_debut\") realName = \"Horaire de début\"\r\n      else if(key === \"horaire_fin\") realName = \"Horaire de fin\"\r\n      else if(key === \"id_espace_privatif\") realName = \"Nom de l'espace privatif\"\r\n      else if(key === \"nom\") realName = \"Nom\"\r\n  }\r\n  else if(table === \"res_equipment\") {\r\n      if(key === \"horaire_debut\") realName = \"Horaire de début\"\r\n      else if(key === \"horaire_fin\") realName = \"Horaire de fin\"\r\n      else if(key === \"id_equipment\") realName = \"Equipment\"\r\n  }\r\n  else if(table === \"res_meal\") {\r\n      if(key === \"horaire\") realName = \"Horaire\"\r\n      else if(key === \"id_meal\") realName = \"Plateau repas\"\r\n  }\r\n  else if(table === \"res_events\") {\r\n      if(key === \"id_events\") realName = \"Evenement\"\r\n  }\r\n  else if(table === \"space\") {\r\n    if(key === \"nom\") realName = \"Nom\"\r\n  }\r\n  else if(table === \"PrivativeSpace\") {\r\n    if(key === \"nom\") realName = \"Nom\"\r\n    else if(key === \"id_space\") realName = \"Espace\"\r\n  }\r\n  else if(table === \"equipment\") {\r\n    if(key === \"nom\") realName = \"Nom\"\r\n    else if(key === \"id_space\") realName = \"Espace\"\r\n  }\r\n  else if(table === \"meal\") {\r\n    if(key === \"nom\") realName = \"Nom\"\r\n    else if(key === \"id_space\") realName = \"Espace\"\r\n  }\r\n  else if(table === \"events\") {\r\n    if(key === \"nom\") realName = \"Nom\"\r\n    else if(key === \"description\") realName = \"Description\"\r\n    else if(key === \"horaire_debut\") realName = \"Horaire de début\"\r\n    else if(key === \"horaire_fin\") realName = \"Horaire de fin\"\r\n    else if(key === \"nb_places\") realName = \"Nombre de places\"\r\n    else if(key === \"id_space\") realName = \"Espace\"\r\n  }\r\n  else if(table === \"ReservationPrivateSpace\") {\r\n    if(key === \"horaire_debut\") realName = \"Horaire de début\"\r\n    else if(key === \"horaire_fin\") realName = \"Horaire de fin\"\r\n    else if(key === \"id_espace_privatif\") realName = \"Espace Privatif\"\r\n    else if(key === \"id_user\") realName = \"Utilisateur\"\r\n  }\r\n  else if(table === \"ReservationEquipment\") {\r\n    if(key === \"horaire_debut\") realName = \"Horaire de début\"\r\n    else if(key === \"horaire_fin\") realName = \"Horaire de fin\"\r\n    else if(key === \"id_equipment\") realName = \"Equipement\"\r\n    else if(key === \"id_user\") realName = \"Utilisateur\"\r\n    else if(key === \"rendu\") realName = \"Equipement rendu\"\r\n  }\r\n  else if(table === \"ReservationMeal\") {\r\n    if(key === \"horaire\") realName = \"Horaire\"\r\n    else if(key === \"id_meal\") realName = \"Plateau repas\"\r\n    else if(key === \"id_user\") realName = \"Utilisateur\"\r\n  }\r\n  else if(table === \"ReservationEvents\") {\r\n    if(key === \"id_user\") realName = \"Utilisateur\"\r\n    else if(key === \"id_events\") realName = \"Evenement/Animation\"\r\n  }\r\n  else if(table === \"Ticket\") {\r\n    if(key === \"objet\") realName = \"Objet\"\r\n    else if(key === \"text\") realName = \"Texte\"\r\n    else if(key === \"traitement\") realName = \"Traitement\"\r\n    else if(key === \"id_user\") realName = \"Utilisateur\"\r\n    else if(key === \"en_cours\") realName = \"En cours\"\r\n    else if(key === \"archivé\") realName = \"Résolu/Archivé\"\r\n  }\r\n  console.log(realName)\r\n  if(realName) return realName\r\n  else return key\r\n}\r\n\r\nexport function endAbonnementToString(id_abonnement, created_at) {\r\n  let s = \"\"\r\n  if(id_abonnement === \"2\") s = \"Prendra fin le \" + formatStringToDate(created_at)\r\n  if(id_abonnement === \"4\") s = \"Prendra fin le \" + formatStringToDate(created_at)\r\n  return s\r\n}\r\n\r\nexport function formatStringToDate(s) {\r\n  return  moment(new Date(s)).add(1, 'years').format('DD/MM/YYYY') + \" à \" +  moment(new Date(s)).add(1, 'years').format('HH') + \"h\" + moment(new Date(s)).add(1, 'years').format('mm')\r\n}","import React, { useState } from 'react';\r\nimport {getCookie, deleteCookie, upperCaseFirst} from '../util/util';\r\nimport { propTypes } from 'react-bootstrap/esm/Image';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst deleteUser = () => {\r\n    deleteCookie(\"id\", \"/\")\r\n    deleteCookie(\"firstname\", \"/\")\r\n    deleteCookie(\"lastname\", \"/\")\r\n    deleteCookie(\"date_naissance\", \"/\")\r\n    deleteCookie(\"email\", \"/\")\r\n    deleteCookie(\"pwd\", \"/\")\r\n    deleteCookie(\"admin\", \"/\")\r\n  }\r\n\r\nexport function Deconnection(setConnected, history) {\r\n  deleteUser()\r\n  setConnected(null)\r\n  history.push('/')\r\n}","\r\nimport React, { useState } from 'react';\r\nimport {Container, DropdownButton, Dropdown, Col, Spinner, CardDeck, Alert, Navbar, Form, FormControl, Button, Nav} from 'react-bootstrap'\r\nimport {Deconnection} from './Deconnection'\r\nimport {getCookie, deleteCookie, upperCaseFirst} from '../util/util';\r\nimport {useLocation, useHistory} from \"react-router-dom\";\r\n\r\nexport function Header(props) {\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n\r\n    return (\r\n      <>\r\n      <Container fluid className=\"pr-0 pl-0\">\r\n      <Navbar bg=\"light\" variant=\"light\" style={{height: 64}}>\r\n        <Navbar.Brand onClick={() => history.push(\"/\")}>CO'Work Admin</Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link>{location.pathname === \"/\" ? \"Utilisateurs\" : upperCaseFirst(location.pathname.replace(\"/\", \"\").toLowerCase())}</Nav.Link>\r\n        </Nav>\r\n        <DropdownButton variant=\"light\" id=\"dropdown-item-button\" title={upperCaseFirst(getCookie(\"firstname\").toLowerCase())} className=\"person-circle\" alignRight>\r\n            <Dropdown.Item as=\"button\" onClick={() => history.push(\"/profil\")}>Profil</Dropdown.Item>\r\n            <Dropdown.Item as=\"button\" onClick={() => Deconnection(props.data.setConnected, history)}>Déconection</Dropdown.Item>\r\n          </DropdownButton>\r\n      </Navbar>\r\n      </Container>\r\n      </>\r\n    );\r\n  }","import React, { useState, useEffect } from 'react';\r\nimport {Table, Form, FormControl, Button, Spinner, Row, Col, Alert} from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport {useLocation, useHistory} from \"react-router-dom\";\r\nimport {upperCaseFirst, setCookie, RealName} from '../util/util';\r\nimport {faCheck} from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport setHours from 'date-fns/setHours'\r\nimport setMinutes from 'date-fns/setMinutes'\r\nimport getHours from 'date-fns/setMinutes'\r\nimport moment from 'moment';\r\nimport {fr} from \"date-fns/locale\";\r\nimport md5 from 'crypto-js/md5';\r\n\r\nexport function TableData(props) {\r\n    const[data, setData] = useState([])\r\n    const[filterData, setFilterData] = useState([])\r\n    const[isLoading, setIsloading] = useState(props.data.load)\r\n    const[uri, setUri] = useState(null)\r\n    const[schema, setSchema] = useState([])\r\n    const[successModification, setSuccessModification] = useState(null)\r\n    const[add, setAdd] = useState(false)\r\n    const[formAdd, setFormAdd] = useState({})\r\n    const[successAdd, setSuccessAdd] = useState(null)\r\n    const[path, setPath] = useState(useLocation().pathname)\r\n    const[space, setSpace] = useState(null)\r\n    const[isLoadingSpace, setIsloadingSpace] = useState(true)\r\n    const[users, setUsers] = useState(null)\r\n    const[isLoadingUsers, setIsloadingUsers] = useState(true)\r\n\r\n    const handleFormAdd = (key, e) => {\r\n        let val\r\n        if(e.target === undefined) val = e\r\n        else val = e.target.value\r\n        let tmp = {...formAdd}\r\n        if(key === \"pwd\") val = md5(val).toString()\r\n        tmp[key] = val\r\n        setFormAdd(tmp)\r\n    }\r\n\r\n    const handleSuccessModification = (v) => {\r\n        setSuccessModification(v)\r\n    }\r\n\r\n    const handleSuccessAdd = (v) => {\r\n        setSuccessAdd(v)\r\n    }\r\n\r\n    const handleSearch = (k, e) => {\r\n        \r\n        let regex = new RegExp( e.target.value.toLowerCase(), 'g');\r\n        let filter\r\n        let field\r\n        console.log(data)\r\n        const tabSelect = [\"ReservationPrivateSpace\", \"ReservationEquipment\", \"ReservationEvents\", \"Ticket\", \"ReservationMeal\"]\r\n        if(e.target.value !== \"\") {\r\n            if(tabSelect.includes(uri)) {\r\n                field = \"id_user\"\r\n                filter = data.filter(l => l[k] === e.target.value)\r\n            }\r\n            else if(uri === \"user\") {\r\n                field = \"lastname\"\r\n                filter = data.filter(l => l[k].toLowerCase().match(regex))\r\n            }\r\n            else {\r\n                field = \"nom\"\r\n                filter = data.filter(l => l[k].toLowerCase().match(regex))\r\n            }\r\n            setFilterData(filter)\r\n        } else setFilterData(data)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        let uriTmp = \"\"\r\n        let schema = []\r\n        if(path === \"/espaces\") {\r\n            uriTmp = \"space\"\r\n            schema = [\"nom\"]\r\n        }\r\n        else if(path === \"/espaces_privatifs\") {\r\n            uriTmp = \"PrivativeSpace\"\r\n            schema = [\"nom\", \"id_space\"]\r\n        }\r\n        else if(path === \"/equipements\") {\r\n            uriTmp = \"equipment\"\r\n            schema = [\"nom\", \"id_space\"]\r\n        }\r\n        else if(path === \"/plateaux_repas\") {\r\n            uriTmp = \"meal\"\r\n            schema = [\"nom\", \"id_space\"]\r\n        }\r\n        else if(path === \"/evenements\") {\r\n            uriTmp = \"events\"\r\n            schema = [\"nom\", \"description\", \"horaire_debut\", \"horaire_fin\", \"nb_places\", \"id_space\"]\r\n        }\r\n        else if(path === \"/utilisateurs\" || path === \"/\") {\r\n            uriTmp = \"user\"\r\n            schema = [\"firstname\", \"lastname\", \"date_naissance\", \"email\", \"pwd\", \"admin\"]\r\n        }\r\n        else if(path === \"/reservations/espaces_privatifs\") {\r\n            uriTmp = \"ReservationPrivateSpace\"\r\n            schema = [\"horaire_debut\", \"horaire_fin\", \"id_espace_privatif\", \"id_user\"]\r\n        }\r\n        else if(path === \"/reservations/equipements\") {\r\n            uriTmp = \"ReservationEquipment\"\r\n            schema = [\"horaire_debut\", \"horaire_fin\", \"id_equipment\", \"id_user\", \"rendu\"]\r\n        }\r\n        else if(path === \"/reservations/plateaux_repas\") {\r\n            uriTmp = \"ReservationMeal\"\r\n            schema = [\"horaire\", \"id_meal\", \"id_user\"]\r\n        }\r\n        else if(path === \"/reservations/evenements\") {\r\n            uriTmp = \"ReservationEvents\"\r\n            schema = [\"id_user\", \"id_events\"]\r\n        }\r\n        else if(path === \"/ticket\") {\r\n            uriTmp = \"Ticket\"\r\n            schema = [\"objet\", \"text\", \"traitement\", \"id_user\"]\r\n        }\r\n        setUri(uriTmp)\r\n        setSchema(schema)\r\n\r\n        if(uri) axios.get('https://cowork-paris.000webhostapp.com/index.php/'+uri).then(res => {\r\n            setData(res.data)\r\n            setFilterData(res.data)\r\n            setIsloading(false)\r\n        })\r\n        .catch(err => console.log(err))\r\n\r\n        if(schema.includes(\"id_space\") && isLoadingSpace) {\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/space').then(res2 => {\r\n                setSpace(res2.data)\r\n                setIsloadingSpace(false)\r\n                handleFormAdd(\"id_space\", res2.data[0].id)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                setIsloadingSpace(false)\r\n            })\r\n        }\r\n        if(schema.includes(\"id_user\") && isLoadingUsers) {\r\n            axios.get('https://cowork-paris.000webhostapp.com/index.php/user').then(res => {\r\n                setUsers(res.data.filter(u => u.admin !== \"true\"))\r\n                setIsloadingUsers(false)\r\n                handleFormAdd(\"id_user\", res.data[0].id)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                setIsloadingUsers(false)\r\n            })\r\n        if(schema.includes(\"rendu\")) handleFormAdd(\"rendu\", \"oui\")\r\n        }\r\n\r\n     }, [uri, successModification, successAdd]);\r\n     console.log(formAdd)\r\n    return (\r\n        <>\r\n        <Row>\r\n            <Col className=\"pb-3\">\r\n            <Button variant=\"info\" onClick={() => setAdd(!add)}>Ajouter</Button>\r\n            {add && <Form className=\"mt-3 mb-3\">\r\n                <Form.Row>\r\n                    {schema.map((l,i) => {\r\n                        let tmp\r\n                        if(l.includes(\"horaire\")) tmp =  <Form.Control key={i} placeholder={RealName(uri, l)} type=\"datetime-local\" step=\"3600\" onChange={(e) => handleFormAdd(l, e)} />\r\n                        else tmp = ((schema.includes(\"id_user\") && !isLoadingUsers) || (schema.includes(\"id_space\") && !isLoadingSpace) || (!schema.includes(\"id_user\") && !schema.includes(\"id_space\"))) ? <Select data={{k: l, v: \"\", disabledModif: false, handleForm: handleFormAdd, space, i, users, uri}}/> : <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\" style={{width: \"5em\", height: \"5em\"}}/></div>\r\n                        return <Col>\r\n                            {tmp}\r\n                        </Col>\r\n                        }\r\n                    )}\r\n                    <Col>\r\n                    <Button variant=\"success\" onClick={() => addItem(formAdd, uri, handleSuccessAdd)} disabled={Object.values(formAdd).map(v => {let i = 0; if(v.trim() === \"\") i++; return i}).includes(1) || Object.keys(schema).length !== Object.keys(formAdd).length}><FontAwesomeIcon icon={faCheck}/></Button>\r\n                    </Col>\r\n                </Form.Row>\r\n                </Form>\r\n                }\r\n                {successAdd !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successAdd ? \"success\" : \"danger\"}>\r\n                {successAdd ? \"L'élement a bien été ajouté\" : \"L'ajout a échoué\"}\r\n                </Alert></div>}\r\n                <hr/>\r\n                {![\"ReservationPrivateSpace\", \"ReservationEquipment\", \"ReservationEvents\", \"ReservationMeal\", \"Ticket\"].includes(uri) ? <FormControl type=\"text\" placeholder=\"Filtrer par nom\" className=\"mr-auto mt-3 mb-3\" onKeyUp={(e) => handleSearch(\"nom\",e)}/> : (!isLoadingUsers) ? <Form.Group><Form.Label>Utilisateur:</Form.Label><Select data={{k: \"id_user\", v: \"\", disabledModif: false, handleForm: handleSearch, space, i: 255, users, uri, tous: true}}/></Form.Group> : <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/></div>}\r\n                {uri === \"ReservationEquipment\" && <Form.Group><Form.Label>Equipement rendu:</Form.Label><Form.Control as=\"select\" onChange={(e) => handleSearch(\"rendu\", e)}>\r\n                    <option value=\"\">Tous</option>\r\n                    <option value=\"oui\">Oui</option>\r\n                    <option value=\"non\">Non</option>\r\n                </Form.Control></Form.Group>}\r\n                {successModification !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={successModification ? \"success\" : \"danger\"}>\r\n                {successModification ? \"Modification effectuée(s)\" : \"La modification a échoué\"}\r\n                </Alert></div>}\r\n            </Col>\r\n        </Row>\r\n        {(!isLoading) && filterData.length > 0 &&\r\n        <Row>\r\n            <Col>\r\n                <Table striped bordered hover>\r\n                    <thead>\r\n                        <tr>\r\n                            {Object.keys(filterData[0]).filter(k => k !== \"id\" && k !== \"pwd\").map((v,i) => (<th key={i}>{RealName(uri, v)}</th>))}\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {filterData.map((l,i) => {\r\n                            let tmp = {...l}\r\n                            delete tmp.id\r\n                            delete tmp.pwd\r\n                            return (\r\n                            <>\r\n                                {(schema.includes(\"id_space\") && space) || (schema.includes(\"id_user\") && users) || (!schema.includes(\"id_space\") && !schema.includes(\"id_user\")) ? <TableLine key={i} data={{line: tmp, handleSuccessModification, uri, id: l.id, space, users, uri}}/> : i === 1 && <Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\" style={{width: \"5em\", height: \"5em\"}}/>}\r\n                            </>\r\n                            )}\r\n                        )}\r\n                    </tbody>\r\n                </Table>\r\n            </Col>\r\n        </Row>\r\n        }\r\n        {(isLoading) && <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\" style={{width: \"5em\", height: \"5em\"}}/></div>}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction addItem(data, uri, handleSuccessAdd) {\r\n    let formData = new FormData();\r\n    for (const v in data) {\r\n        formData.append(v, data[v]);\r\n    }\r\n    console.log(formData)\r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/'+uri,\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n            if(res[0] === \"Reservation created successfully.\" || res[0] === \"User created successfully.\" || res[0] === \"Created successfully.\") {\r\n                 handleSuccessAdd(Date.now())\r\n            } else {\r\n                handleSuccessAdd(false)\r\n            }\r\n        })\r\n        .catch(e => {\r\n            handleSuccessAdd(false)\r\n        })\r\n}\r\n\r\nfunction TableLine(props) {\r\n    const[disabledModif, setDisabledModif] = useState(true)\r\n    const[form, setForm] = useState(props.data.line)\r\n    let history = useHistory();\r\n\r\n    const handleDisabledModif = () => {\r\n        setDisabledModif(!disabledModif)\r\n    }\r\n\r\n    const handleForm = (key, e) => {\r\n        let tmp = {...form}\r\n        tmp[key] = e.target.value\r\n        setForm(tmp)\r\n    }\r\n    \r\n    return (\r\n        <tr>\r\n            {Object.keys(props.data.line).map((k,i) => {\r\n                return <td key={i}>{<Select key={i} data={{k, v: props.data.line[k], disabledModif, handleForm, space: props.data.space, i, users: props.data.users, uri: props.data.uri}}/>}</td>\r\n            })}\r\n            <th>\r\n                <div className=\"text-center\">\r\n                    <Button variant=\"warning\" className=\"mr-2\" onClick={() => handleDisabledModif()}>{disabledModif ? \"Modifier\" : \"Annuler\"}</Button>\r\n                    {!disabledModif && <Button variant=\"success\" onClick={() => Update(form, props.data.handleSuccessModification, props.data.uri, props.data.id, handleDisabledModif)} disabled={(JSON.stringify(props.data.line) === JSON.stringify(form)) || Object.values(form).map(v => {let i = 0; if(v.trim() === \"\") i++; return i}).includes(1)}>Valider</Button>}\r\n                    {disabledModif && <Button variant=\"danger\">Supprimer</Button>}\r\n                    {props.data.uri === \"user\" && <Button className=\"ml-2\" variant=\"info\" onClick={() => history.push({pathname: '/details', state: { id: props.data.id }})}>Detail</Button>}\r\n                </div>\r\n            </th>\r\n        </tr>\r\n    )\r\n}\r\n\r\nfunction Select(props) {\r\n    const[privativeSpace, setPrivativeSpace] = useState(null)\r\n    const[isLoadingPrivativeSpace, setIsloadingPrivativeSpace] = useState(true)\r\n    const[equipment, setEquipment] = useState(null)\r\n    const[isLoadingEquipment, setIsloadingEquipment] = useState(true)\r\n    const[rendu, setRendu] = useState([\"oui\", \"non\"])\r\n    const[traitement, setTraitement] = useState([\"en_cours\", \"archivé\"])\r\n    const[admin, setAdmin] = useState([\"true\", \"false\"])\r\n    const[meal, setMeal] = useState(null)\r\n    const[isLoadingMeal, setIsloadingMeal] = useState(true)\r\n    const[events, setEvents] = useState(null)\r\n    const[isLoadingEvents, setIsloadingEvents] = useState(true)\r\n    let location  = useLocation()\r\n    console.log(props.data.k)\r\n    console.log(props.data.uri)\r\n    useEffect(() => {\r\n        console.log(props.data.k)\r\n        let url\r\n        if(props.data.k === \"id_espace_privatif\" && isLoadingPrivativeSpace) {\r\n            if(props.data.v === \"\") url = \"https://cowork-paris.000webhostapp.com/index.php/PrivativeSpace/\"\r\n            else url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationPrivateSpace/privateSpace/\"\r\n            axios.get(url + props.data.v).then(res => {\r\n                setPrivativeSpace(res.data)\r\n                setIsloadingPrivativeSpace(false)\r\n                if(props.data.v === \"\") props.data.handleForm(props.data.k, res.data[0].id)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                setIsloadingPrivativeSpace(false)\r\n            })\r\n        }\r\n        else if(props.data.k === \"id_equipment\" && isLoadingEquipment) {\r\n            if(props.data.v === \"\") url = \"https://cowork-paris.000webhostapp.com/index.php/Equipment/\"\r\n            else url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationEquipment/equipment/\"\r\n            axios.get(url + props.data.v).then(res => {\r\n                setEquipment(res.data)\r\n                setIsloadingEquipment(false)\r\n                if(props.data.v === \"\") props.data.handleForm(props.data.k, res.data[0].id)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                setIsloadingEquipment(false)\r\n            })\r\n        }\r\n        else if(props.data.k === \"id_meal\" && isLoadingMeal) {\r\n            if(props.data.v === \"\") url = \"https://cowork-paris.000webhostapp.com/index.php/Meal/\"\r\n            else url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationMeal/meal/\"\r\n            axios.get(url + props.data.v).then(res => {\r\n                setMeal(res.data)\r\n                setIsloadingMeal(false)\r\n                if(props.data.v === \"\") props.data.handleForm(props.data.k, res.data[0].id)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                setIsloadingMeal(false)\r\n            })\r\n        }\r\n        else if(props.data.k === \"id_events\" && isLoadingEvents) {\r\n            if(props.data.v === \"\") url = \"https://cowork-paris.000webhostapp.com/index.php/Events/\"\r\n            else url = \"https://cowork-paris.000webhostapp.com/index.php/ReservationEvents/events/\"\r\n            axios.get(url + props.data.v).then(res => {\r\n                setEvents(res.data)\r\n                setIsloadingEvents(false)\r\n                if(props.data.v === \"\") props.data.handleForm(props.data.k, res.data[0].id)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                setIsloadingEvents(false)\r\n            })\r\n        }\r\n    }, [props.data.k === \"id_espace_privatif\", props.data.k === \"id_equipment\", props.data.k === \"id_meal\"])\r\n    if(location.pathname === \"/reservations/equipements\" && props.data.k !== \"rendu\" && props.data.v !== \"\") props.data.disabledModif = true\r\n    if(location.pathname === \"/ticket\" && props.data.k !== \"traitement\" && props.data.v !== \"\") props.data.disabledModif = true\r\n    let allOps = <option key={1000} value=\"\">Tous</option>\r\n    console.log(props.data)\r\n    return (\r\n        <>\r\n            {props.data.k !== \"id_space\"  && props.data.k !== \"id_espace_privatif\" && props.data.k !== \"id_user\" && props.data.k !== \"id_equipment\" && props.data.k !== \"rendu\" && props.data.k !== \"id_meal\" && props.data.k !== \"id_events\" && props.data.k !== \"traitement\" && props.data.k !== \"admin\" && <Form.Control as={props.data.uri === \"Ticket\" && props.data.k === \"text\" ? \"textarea\" : \"input\"} placeholder={RealName(props.data.uri, props.data.k)} key={props.data.i+100} defaultValue={props.data.v} disabled={props.data.disabledModif} onKeyUp={(l) => props.data.handleForm(props.data.k, l)}/>}\r\n            {props.data.k === \"id_space\" && <Form.Control as=\"select\" key={props.data.i+100} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{props.data.space.map((v,i) => <option key={i} value={v.id}>{v.nom}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_espace_privatif\" && !isLoadingPrivativeSpace && <Form.Control as=\"select\" key={props.data.i+100} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{privativeSpace.map((v,i) => <option key={i} value={v.id}>{v.nom}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_espace_privatif\" && isLoadingPrivativeSpace && <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/></div>}\r\n            {props.data.k === \"id_user\" && <Form.Control as=\"select\" key={props.data.i+100} defaultValue={props.data.tous ? \"\" : props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{ true ? [allOps, ...props.data.users.map((v,i) => <option key={i} value={v.id}>{v.firstname + \" \" + v.lastname}</option>)] : props.data.users.map((v,i) => <option key={i} value={v.id}>{v.firstname + \" \" + v.lastname}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_equipment\" && !isLoadingEquipment && <Form.Control as=\"select\" key={props.data.i+110} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{equipment.map((v,i) => <option key={i} value={v.id}>{v.nom}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_equipment\" && isLoadingEquipment && <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/></div>}\r\n            {props.data.k === \"rendu\" && <Form.Control as=\"select\" key={props.data.i+120} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{rendu.map((v,i) => <option key={i} value={v}>{v}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_meal\" && !isLoadingMeal && <Form.Control as=\"select\" key={props.data.i+110} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{meal.map((v,i) => <option key={i} value={v.id}>{v.nom}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_meal\" && isLoadingMeal && <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/></div>}\r\n            {props.data.k === \"id_events\" && !isLoadingEvents && <Form.Control as=\"select\" key={props.data.i+110} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{events.map((v,i) => <option key={i} value={v.id}>{v.nom}</option>)}</Form.Control>}\r\n            {props.data.k === \"id_events\" && isLoadingEvents && <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\"/></div>}\r\n            {props.data.k === \"traitement\" && <Form.Control as=\"select\" key={props.data.i+120} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{traitement.map((v,i) => <option key={i} value={v}>{RealName(props.data.uri, v)}</option>)}</Form.Control>}\r\n            {props.data.k === \"admin\" && <Form.Control as=\"select\" key={props.data.i+120} defaultValue={props.data.v} disabled={props.data.disabledModif} onChange={(l) => props.data.handleForm(props.data.k, l)} >{admin.map((v,i) => <option key={i} value={v}>{RealName(props.data.uri, v)}</option>)}</Form.Control>}\r\n        </>\r\n        //<Form.Control as={privativeSpace || space ? \"select\" : \"\"} defaultValue={space ? space.filter(e => e.id === props.data.v)[0].nom : privativeSpace ? privativeSpace.filter(e => e.id === props.data.v)[0].nom : props.data.v} disabled={props.data.disabledModif} onKeyUp={(l) => props.data.handleForm(props.data.k, l)}/>\r\n    )\r\n\r\n}\r\n\r\nfunction Update(data, handleSuccessModification, uri, id, handleDisabledModif) {\r\n    let formData = new FormData();\r\n    for (const v in data) {\r\n        formData.append(v, data[v]);\r\n    }\r\n    console.log(formData)\r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/'+uri+'/update/'+id,\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n            if(res[0] === \"User updated successfully.\") {\r\n                for (const key in data) {\r\n                    setCookie(key, data[key], 1)\r\n                 }\r\n                 handleDisabledModif(true)\r\n                 handleSuccessModification(Date.now())\r\n            } else {\r\n                handleSuccessModification(false)\r\n            }\r\n        })\r\n        .catch(e => {\r\n            handleSuccessModification(false)\r\n        })\r\n}\r\n\r\nfunction Delete() {\r\n    \r\n}","import React, { useState, useEffect } from 'react';\r\nimport {Table, Form, FormControl, Button, Spinner, Row, Col, Container, Alert} from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport {useLocation} from \"react-router-dom\";\r\nimport {Connection} from './Connection'\r\nimport md5 from 'crypto-js/md5';\r\n\r\nexport function Login(props) {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [pwd, setPwd] = useState(\"\")\r\n    const [success, setSuccess] = useState(null)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n  \r\n    const handleEmail = (event) => {\r\n      setEmail(event.target.value)\r\n    }\r\n  \r\n    const handlePwd = (event) => {\r\n      setPwd(event.target.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(success)\r\n     }, []);\r\n\r\n    return (\r\n        <div style={styleVcenter}> \r\n        \r\n        <Container className=\"vertical-center\">\r\n            <Row className=\"h-100\" style={{marginLeft: \"6em\", marginRight: \"6em\"}}>\r\n                <Col className=\"my-auto\">\r\n                    <div className=\"text-center pb-5\">\r\n                        <h1 className=\"display-2\">CO'Work Admin</h1>\r\n                    </div>\r\n                <Form>\r\n                    <Form.Group controlId=\"formBasicEmail\" className=\"pb-4 mb-4\">\r\n                        <Form.Control type=\"email\" placeholder=\"Email\" size=\"lg\" onKeyUp={(e) => handleEmail(e)}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Control type=\"password\" placeholder=\"Mot de passe\" size=\"lg\" onKeyUp={(e) => handlePwd(e)}/>\r\n                    </Form.Group>\r\n                    {success !== null && !success && <div className=\"text-center pt-3\"><Alert className=\"mb-0\" variant={success ? \"success\" : \"danger\"}>\r\n                    {\"L'authentification a échoué\"}\r\n                    </Alert></div>}\r\n                    <div className=\"text-center pt-4\">\r\n                        <Button className=\"mb-3\" variant=\"primary\" onClick={() => {Connection(email, md5(pwd).toString(), setIsLoading, setSuccess, props.data.history, props.data.setConnected, success)}} disabled={email.trim() === \"\" || pwd.trim() === \"\"}>\r\n                            {isLoading && <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                                className=\"pr-2\"\r\n                            />}\r\n                            {!isLoading && \"Connection\"}\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst styleVcenter = {\r\n    minHeight: \"100%\",\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    alignItems: \"center;\"\r\n  }","import {setCookie} from '../util/util';\r\nimport axios from 'axios'\r\nimport md5 from 'crypto-js/md5';\r\n\r\nexport function Connection(email, pwd, setIsLoading, setSuccess, history, setConnected, success) {\r\n    setIsLoading(true)\r\n    axios.get('https://cowork-paris.000webhostapp.com/index.php/user/show/'+email)\r\n    .then(res => {\r\n      console.log(res.data)\r\n      if(res.data.pwd === pwd && res.data.admin === \"true\") {\r\n        for (const key in res.data) {\r\n            if(key !== \"pwd\") setCookie(key, res.data[key], 1)\r\n          }\r\n          //setSuccess(true)\r\n          setIsLoading(false)\r\n          setConnected(true)\r\n          history.push(\"/\")\r\n      }\r\n      else{\r\n        console.log(\"ok\")\r\n        setIsLoading(false)\r\n        setSuccess(false)\r\n        //setConnected(false)\r\n      }\r\n    }).catch(e => {\r\n      setSuccess(false)\r\n      setIsLoading(false)\r\n      setConnected(false)\r\n    })\r\n  }","import React, { useState, useEffect } from 'react';\r\nimport {setCookie, getCookie} from '../util/util';\r\nimport {Container, Row, Col, Spinner, CardDeck, Alert, Navbar, Form, FormControl, Button} from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\nexport function Profil(props) {\r\n      const[firstname, setFirstname] = useState(getCookie(\"firstname\"))\r\n      const[lastname, setLastname] = useState(getCookie(\"lastname\"))\r\n      const[date_naissance, setDate_naissance] = useState(getCookie(\"date_naissance\"))\r\n      const[email, setEmail] = useState(getCookie(\"email\"))\r\n      const[pwd, setPwd] = useState(getCookie(\"pwd\"))\r\n    \r\n      const handleFirstname = (event) => {\r\n        \r\n        setFirstname(event.target.value)\r\n      }\r\n      const handleLastname = (event) => {\r\n        \r\n        setLastname(event.target.value)\r\n      }\r\n      const handleDate_naissance = (event) => {\r\n        \r\n        setDate_naissance(event.target.value)\r\n      }\r\n      const handleEmail = (event) => {\r\n        \r\n        setEmail(event.target.value)\r\n      }\r\n      const handlePwd = (event) => {\r\n        \r\n        setPwd(event.target.value)\r\n      }\r\n\r\n      const user = {firstname: getCookie(\"firstname\"), lastname: getCookie(\"lastname\"), date_naissance: getCookie(\"date_naissance\"), email: getCookie(\"email\"), pwd: getCookie(\"pwd\")}\r\n      return (\r\n          <Form>\r\n              <Form.Group controlId=\"nom\">\r\n                <Form.Label className=\"float-left\">Nom:</Form.Label>\r\n                <Form.Control type=\"text\" defaultValue={getCookie(\"lastname\")} onKeyUp={handleLastname.bind(this)} required/>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"prenom\">\r\n                <Form.Label className=\"float-left\">Prenom</Form.Label>\r\n                <Form.Control type=\"text\" defaultValue={getCookie(\"firstname\")} onKeyUp={handleFirstname.bind(this)} required/>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"prenom\">\r\n                <Form.Label className=\"float-left\">Date de naissance</Form.Label>\r\n                <Form.Control type=\"date\" defaultValue={getCookie(\"date_naissance\")} onKeyUp={handleDate_naissance.bind(this)} onChange={handleDate_naissance.bind(this)} required/>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"exampleForm.ControlInput1\">\r\n                <Form.Label className=\"float-left\">Email</Form.Label>\r\n                <Form.Control type=\"email\" defaultValue={getCookie(\"email\")} onKeyUp={handleEmail.bind(this)} required/>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"pwd\">\r\n                <Form.Label className=\"float-left\">Mot de passe</Form.Label>\r\n                <Form.Control type=\"password\" defaultValue={getCookie(\"firstname\")} onKeyUp={handlePwd.bind(this)} required/>\r\n              </Form.Group>\r\n              {props.data.successModification !== null && <div className=\"text-center\"><Alert className=\"mb-0\" variant={props.data.successModification ? \"success\" : \"danger\"}>\r\n              {props.data.successModification ? \"Modification effectuée(s)\" : \"La modification a échoué\"}\r\n              </Alert></div>}\r\n              <div className=\"text-center pt-3\">\r\n                <Button disabled={JSON.stringify({firstname, lastname, date_naissance, email, pwd}) === JSON.stringify(user)} className=\"mb-3\" variant=\"primary\" onClick={() => submitModification({firstname, lastname, date_naissance, email, pwd}, props.data.handleSuccessModification, getCookie(\"id\"), props.data.handleRefresh)}>\r\n                  Modifier\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n      )\r\n  }\r\n\r\n  function submitModification(user, handleSuccessModification, id, handleRefresh) {\r\n    let formData = new FormData();\r\n    let userUpdate = {}\r\n    for (const k in user) {\r\n        if(user[k].trim() !== \"\") {\r\n            console.log(user[k])\r\n            userUpdate[k] = user[k]\r\n            formData.append(k, user[k]);\r\n        }\r\n    }\r\n    fetch('https://cowork-paris.000webhostapp.com/index.php/user/update/'+id,\r\n        {\r\n            body: formData,\r\n            method: \"post\"\r\n        })\r\n        .then(res=>res.json())\r\n        .then(res => {\r\n            if(res[0] === \"User updated successfully.\") {\r\n                for (const key in userUpdate) {\r\n                    setCookie(key, userUpdate[key], 1)\r\n                 }\r\n                 handleSuccessModification(Date.now())\r\n            } else {\r\n                handleSuccessModification(false)\r\n            }\r\n        })\r\n        .catch(e => {\r\n            handleSuccessModification(false)\r\n        })\r\n  }\r\n","import React, { useState, useEffect } from 'react';\r\nimport {Table, Form, FormControl, Button, Spinner, Row, Col, Alert, Tabs, Tab, Accordion, Card, ListGroup, ListGroupItem} from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport {useLocation, useHistory} from \"react-router-dom\";\r\nimport {upperCaseFirst, setCookie, RealName, endAbonnementToString, formatStringToDate} from '../util/util';\r\nimport {faCheck} from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport moment from 'moment';\r\n\r\nexport function DetailUser(props) {\r\n    const[user, setUser] = useState(null)\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        if(!location.state || !location.state.id) {\r\n          history.push(\"/utilisateurs\")\r\n        } else axios.get('https://cowork-paris.000webhostapp.com/index.php/user/'+location.state.id).then(res => setUser(res.data)).catch(err => history.push(\"/utilisateurs\"))\r\n     }, [location])\r\n\r\n    return (\r\n        <>\r\n            {user &&\r\n            <>\r\n                <div className=\"pb-4\"><h3>{upperCaseFirst(user.firstname.toLowerCase()) + \" \" + upperCaseFirst(user.lastname.toLowerCase())}{/*<Button className=\"float-right\" variant=\"danger\" disabled={user.admin === \"true\"}>Supprimer</Button>*/}</h3><hr/></div>\r\n                <div className=\"pb-2\"><h5>Informations et réservations</h5></div>\r\n                <CustomerReservations data={{idUser: location.state.id, user}}/>\r\n            </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nfunction CustomerReservations(props) {\r\n    const [privative, setPrivative] = useState([])\r\n  \r\n    const [equipment, setEquipment] = useState([])\r\n  \r\n    const [meal, setMeal] = useState([])\r\n  \r\n    const [events, setEvents] = useState([])\r\n    const [infos, setInfos] = useState([])\r\n  \r\n    const [activeTab, setActiveTab] = useState(\"infos\")\r\n  \r\n    const [isLoading, setIsLoading] = useState({privative: true, equipment: true, meal: true, events: true, infos: true})\r\n    const [isDeleted, setIsDeleted] = useState(null)\r\n    const [isResiliated, setIsResiliated] = useState(null)\r\n  \r\n    const handleSelect = (tab) => {\r\n      switch(tab) {\r\n        case \"privative\" :\r\n          setIsLoading({...isLoading, equipment: true, meal: true, events: true, infos: true})\r\n          break;\r\n        case \"equipment\" :\r\n          setIsLoading({...isLoading, privative: true, meal: true, events: true, infos: true})\r\n          break;\r\n        case 'meal' :\r\n          setIsLoading({...isLoading, privative: true, equipment: true, events: true, infos: true})\r\n          break;\r\n        case 'events' :\r\n          setIsLoading({...isLoading, privative: true, equipment: true, meal: true, infos: true})\r\n          break;\r\n        case 'infos' :\r\n            setIsLoading({...isLoading, privative: true, equipment: true, meal: true, events: true})\r\n      }\r\n      setActiveTab(tab)\r\n    }\r\n  \r\n    useEffect(() => {\r\n      console.log(\"kkkkkkkkkk\")\r\n      if(activeTab === \"privative\") {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/privative/'+props.data.idUser)\r\n        .then(res => {\r\n            console.log(res.data)\r\n            setIsLoading({...isLoading, privative: false})\r\n            setPrivative(res.data)\r\n        })\r\n        .catch(e => setIsLoading({...isLoading, privative: false}))\r\n      }\r\n      if(activeTab === \"equipment\") {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/equipment/'+props.data.idUser)\r\n        .then(res => {\r\n          setIsLoading({...isLoading, equipment: false})\r\n            setEquipment(res.data)\r\n        })\r\n        .catch(e => setIsLoading({...isLoading, equipment: false}))\r\n      }\r\n      if(activeTab === \"meal\") {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/meal/'+props.data.idUser)\r\n        .then(res => {\r\n          setIsLoading({...isLoading, meal: false})\r\n            setMeal(res.data)\r\n        })\r\n        .catch(e => setIsLoading({...isLoading, meal: false}))\r\n      }\r\n      if(activeTab === \"events\") {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/events/'+props.data.idUser)\r\n        .then(res => {\r\n          setIsLoading({...isLoading, events: false})\r\n            setEvents(res.data)\r\n        })\r\n        .catch(e => setIsLoading({...isLoading, events: false}))\r\n      }\r\n      if(activeTab === \"infos\") {\r\n        console.log('bonjour')\r\n        console.log(props.data.user)\r\n        setInfos([props.data.user])\r\n        setIsLoading({...isLoading, infos: false})\r\n      }\r\n    }, [activeTab, isDeleted, isResiliated]);\r\n  \r\n    return (\r\n    <Row>\r\n        <Col lg=\"6\">\r\n            <Tabs defaultActiveKey=\"infos\" id=\"uncontrolled-tab-example\" onSelect={(e) => handleSelect(e)}>\r\n                <Tab eventKey=\"infos\" title=\"Infos\" name=\"infos\">\r\n                    <Row>\r\n                        <Col lg=\"12\" className=\"pt-3\">\r\n                        {activeTab === \"infos\" && isDeleted !== null && <Alert variant={isDeleted ? \"success\" : \"danger\"}>\r\n                        {isDeleted ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                        {isResiliated !== null && <Alert className=\"mb-2\" variant={isResiliated ? \"success\" : \"danger\"}>\r\n                        {isResiliated ? \"L'abonnement a bien été résillié\" : \"L'abonnement n'a pas pu être résilié\"}\r\n                        </Alert>}\r\n                        </Alert>}\r\n                        {isLoading.infos && <div className=\"text-center\"><Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        variant=\"primary\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                        style={{width: \"5em\", height: \"5em\"}}\r\n                        /></div>}\r\n                        {!isLoading.infos && activeTab === \"infos\" && <ListInfosUser data={{data: infos, setIsDeleted, type: \"user\", setIsLoading, isLoading, setIsResiliated}}/>}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n                <Tab eventKey=\"privative\" title=\"Espaces privatifs\" name=\"privative\">\r\n                    <Row>\r\n                        <Col lg=\"12\" className=\"pt-3\">\r\n                        {activeTab === \"privative\" && isDeleted !== null && <Alert variant={isDeleted ? \"success\" : \"danger\"}>\r\n                        {isDeleted ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                        </Alert>}\r\n                        {isLoading.privative && <div className=\"text-center\"><Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        variant=\"primary\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                        style={{width: \"5em\", height: \"5em\"}}\r\n                        /></div>}\r\n                        {!isLoading.privative && activeTab === \"privative\" && <ListReservations data={{data: privative, setIsDeleted, type: \"res_privative\"}}/>}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n                <Tab eventKey=\"equipment\" title=\"Matériel\" name=\"equipment\">\r\n                    <Row>\r\n                        <Col lg=\"12\" className=\"pt-3\">\r\n                        {activeTab === \"equipment\" && isDeleted !== null && <Alert variant={isDeleted ? \"success\" : \"danger\"}>\r\n                        {isDeleted ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                        </Alert>}\r\n                        {isLoading.equipment && <div className=\"text-center\"><Spinner\r\n                            as=\"span\"\r\n                            animation=\"border\"\r\n                            variant=\"primary\"\r\n                            role=\"status\"\r\n                            aria-hidden=\"true\"\r\n                            stye={{width: \"5em\", height: \"5em\"}}\r\n                            /></div>}\r\n                        {!isLoading.equipment && activeTab === \"equipment\" && <ListReservations data={{data: equipment, setIsDeleted, type: \"res_equipment\"}}/>}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n                <Tab eventKey=\"meal\" title=\"Plateaux repas\" name=\"meal\">\r\n                    <Row>\r\n                        <Col lg=\"12\" className=\"pt-3\">\r\n                        {activeTab === \"meal\" && isDeleted !== null && <Alert variant={isDeleted ? \"success\" : \"danger\"}>\r\n                        {isDeleted ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                        </Alert>}\r\n                        {isLoading.meal && <div className=\"text-center\"><Spinner\r\n                            as=\"span\"\r\n                            animation=\"border\"\r\n                            size=\"sm\"\r\n                            variant=\"primary\"\r\n                            role=\"status\"\r\n                            aria-hidden=\"true\"\r\n                            style={{width: \"5em\", height: \"5em\"}}\r\n                            /></div>}\r\n                        {!isLoading.meal && activeTab === \"meal\" && <ListReservations data={{data: meal, setIsDeleted, type: \"res_meal\"}}/>}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n                <Tab eventKey=\"events\" title=\"Evenements\" name=\"events\">\r\n                    <Row>\r\n                        <Col lg=\"12\" className=\"pt-3\">\r\n                        {activeTab === \"events\" && isDeleted !== null && <Alert variant={isDeleted ? \"success\" : \"danger\"}>\r\n                        {isDeleted ? \"Réservation annulée\" : \"Echec de l'annulation\"}\r\n                        </Alert>}\r\n                        {isLoading.events && <div className=\"text-center\"><Spinner\r\n                            as=\"span\"\r\n                            animation=\"border\"\r\n                            size=\"sm\"\r\n                            variant=\"primary\"\r\n                            role=\"status\"\r\n                            aria-hidden=\"true\"\r\n                            style={{width: \"5em\", height: \"5em\"}}\r\n                            /></div>}\r\n                        {!isLoading.events && activeTab === \"events\" && <ListReservations data={{data: events, setIsDeleted, type: \"res_events\"}}/>}\r\n                        </Col>\r\n                    </Row>\r\n                </Tab>\r\n            </Tabs>\r\n        </Col>\r\n    </Row>\r\n    )\r\n  }\r\n\r\n  function Annuler(id, setIsDeleted, type) {\r\n    let uri = \"\"\r\n    if(type === \"res_privative\") uri = \"ReservationPrivateSpace/delete/\"\r\n    else if (type === \"res_equipment\") uri = \"ReservationEquipment/delete/\"\r\n    else if (type === \"res_meal\") uri = \"ReservationMeal/delete/\"\r\n    else if (type === \"res_events\") uri = \"ReservationEvents/delete/\"\r\n  \r\n    axios.get(\"https://cowork-paris.000webhostapp.com/index.php/\"+uri+id).then(res => setIsDeleted(true)).catch(err => setIsDeleted(false))\r\n  }\r\n\r\n  function ListReservations(props) {\r\n    return (\r\n      <Accordion defaultActiveKey=\"0\">\r\n        {props.data.data.map(v => <DetailsReservation key={v.id} data={{data: v, type: props.data.type, setIsDeleted: props.data.setIsDeleted}}/>)}\r\n      </Accordion>\r\n    )\r\n  }\r\n\r\nfunction DetailsReservation(props) {\r\n    const[details, setDetails] = useState(null)\r\n    const[isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        let uri, field;\r\n        if(props.data.type === \"res_privative\" ) {\r\n          uri = \"PrivativeSpace\"\r\n          field = \"id_espace_privatif\"\r\n        }\r\n        else if(props.data.type === \"res_equipment\" ) {\r\n          uri = \"equipment\"\r\n          field = \"id_equipment\"\r\n        }\r\n        else if(props.data.type === \"res_meal\" ) {\r\n          uri = \"meal\"\r\n          field = \"id_meal\"\r\n        }\r\n        else if(props.data.type === \"res_events\" ) {\r\n          uri = \"events\"\r\n          field = \"id_events\"\r\n        }\r\n\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/'+uri +'/'+props.data.data[field]).then(res => {\r\n            setDetails(res.data)\r\n            setIsLoading(false)\r\n        }).catch(err => {\r\n            setDetails(null)\r\n            setIsLoading(false)\r\n        })\r\n    }, [props.data.data.length > 0 && props.data.data[0].id])\r\n\r\n    return (\r\n        <>\r\n        {<Card>\r\n          <Card.Header>\r\n          <Button variant=\"danger\" className=\"float-right\" onClick={() => Annuler(props.data.data.id, props.data.setIsDeleted, props.data.type)}>Annuler</Button>\r\n            <Accordion.Toggle as={Button} variant=\"link\" eventKey={props.data.data.id}>\r\n                {isLoading && [\"danger\",\"warning\",\"success\"].map((s,i) => <Spinner key={i} animation=\"grow\" as=\"span\" size=\"sm\" variant={s} role=\"status\" aria-hidden=\"true\"/>)}\r\n                {!isLoading && details && details.nom + \" | \"}\r\n                {(formatStringToDate(props.data.data.horaire_debut || props.data.data.horaire || props.data.data.id))}\r\n            </Accordion.Toggle>\r\n          </Card.Header>\r\n          <Accordion.Collapse eventKey={props.data.data.id}>\r\n            <Card.Body>\r\n                {Object.keys(props.data.data).filter(k => k !== \"id\" && k !== \"id_user\").map((key,i) => {\r\n                    let res\r\n                    let val\r\n                    if(key.includes(\"horaire\")) val = formatStringToDate(props.data.data[key])\r\n                    else if(key === \"id_espace_privatif\" || key === \"id_equipment\" || key === \"id_meal\" || key === \"id_events\") {\r\n                        if(isLoading) val = false\r\n                        else val = details.nom\r\n                    }\r\n                    else val = props.data.data[key]\r\n                    if(val) return <p key={i}>{RealName(props.data.type, key)+\": \"+val}</p>\r\n                    else return [\"danger\",\"warning\",\"success\"].map((s,j) => <Spinner key={i+j} animation=\"grow\" as=\"span\" size=\"sm\" variant={s} role=\"status\" aria-hidden=\"true\"/>)\r\n                })}\r\n            </Card.Body>\r\n          </Accordion.Collapse>\r\n        </Card>}\r\n        </>\r\n    )\r\n}\r\n\r\n  function ListInfosUser(props) {\r\n    const[abonnement, setAbonnement] = useState(null)\r\n    const[resAbonnement, setResAbonnement] = useState(null)\r\n    const [isLoadingDelete, setIsLoadingDelete] = useState(false)\r\n      \r\n    useEffect(() => {\r\n        axios.get('https://cowork-paris.000webhostapp.com/index.php/user/abonnement/'+ props.data.data[0].id).then(res => {\r\n            let tmpA = null\r\n            if(res.data.length === 0 || (res.data.length > 0 && res.data[0].id_abonnement === \"0\")) tmpA = \"not_sub\"\r\n            else tmpA = res.data[0]\r\n            setResAbonnement(res.data[0])\r\n            if(tmpA !== \"not_sub\") {\r\n                axios.get('https://cowork-paris.000webhostapp.com/index.php/abonnement/'+ tmpA.id_abonnement).then(resA => setAbonnement(resA.data)).catch(err => setAbonnement(\"not_sub\"))\r\n            } else setAbonnement(tmpA)\r\n        }).catch(err => setAbonnement(\"not_sub\"))\r\n    }, [props.data.data[0].id])\r\n\r\n    return (\r\n    <>\r\n    {!abonnement && <div className=\"text-center\"><Spinner\r\n    as=\"span\"\r\n    animation=\"border\"\r\n    size=\"sm\"\r\n    variant=\"primary\"\r\n    role=\"status\"\r\n    aria-hidden=\"true\"\r\n    style={{width: \"5em\", height: \"5em\"}}\r\n    /></div>}\r\n    {abonnement && <ListGroup as=\"ul\">\r\n    {props.data.data.map((v,i) => Object.keys(v).filter(l => l !== \"id\" && l !== \"pwd\").map(l =>{\r\n        return (<ListGroup.Item key={l} as=\"li\">\r\n        {l !== \"admin\" ? <p>{RealName(props.data.type, l)+\": \"+v[l]}</p> : (v[l] === \"true\" ? <p>{RealName(props.data.type, l) + \": \" + \"Oui\"}</p> : <p>{RealName(props.data.type, l) + \": \" + \"Non\"}</p>)}\r\n        </ListGroup.Item>)\r\n    }))}\r\n    <ListGroupItem key={17} as=\"li\">\r\n      <h5>Abonnement {\r\n      resAbonnement && resAbonnement.id_abonnement !== \"1\" && <Button className=\"float-right\" variant=\"danger\" onClick={() => Resiliation(resAbonnement.id, setIsLoadingDelete, props.data.setIsLoading, props.data.isLoading, props.data.setIsResiliated)}>{isLoadingDelete && <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                  className=\"pr-2\"\r\n                />}\r\n                {!isLoadingDelete && \"Résilier\"}</Button>}</h5>\r\n        {abonnement !== \"not_sub\" && Object.keys(abonnement).filter(a => a !== \"id\").map((a,i) => <p key={i}>{ RealName(props.data.type, a) + \": \" + abonnement[a]}</p>)}\r\n        {abonnement !== \"not_sub\" && <p>{endAbonnementToString(resAbonnement.id_abonnement, resAbonnement.created_at)}</p>}\r\n        {abonnement === \"not_sub\" && <p>Aucun abonnement en cours</p>}\r\n    </ListGroupItem>\r\n    </ListGroup>}\r\n    </>\r\n    )\r\n  }\r\n\r\n  function Resiliation(idResAbonnement, setIsLoadingDelete, setIsLoading, isLoading, setIsResiliated) {\r\n    setIsLoadingDelete(true)\r\n    axios.get('https://cowork-paris.000webhostapp.com/index.php/ResAbonnement/delete/'+idResAbonnement).then(res => {\r\n      setIsLoadingDelete(false)\r\n      setIsLoading({...isLoading, infos: true})\r\n      if(res.data[0] === \"Res deleted successfully.\") {\r\n        setIsResiliated(true)\r\n      }else {\r\n        setIsResiliated(false)\r\n      }\r\n    }\r\n    ).catch(err => {\r\n      setIsLoadingDelete(false)\r\n      setIsLoading({...isLoading, infos: true})\r\n      setIsResiliated(false)\r\n    })\r\n  }","import React, { useState, useEffect } from 'react';\nimport SideNav, { Toggle, Nav, NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useLocation,\n  useHistory\n} from \"react-router-dom\";\nimport './SideBar.css';\nimport { faHome, faUsers, faBuilding, faKey, faLaptopHouse, faUtensils, faCalendarAlt, faFolder } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {Container, Row, Col, Spinner, CardDeck, Alert, Navbar, Form, FormControl, Button} from 'react-bootstrap'\nimport styled from 'styled-components';\n// Component tableau pour toutes les reserv, update, delete, create\nimport {Header} from './components/Header'\nimport {TableData} from './components/TableData'\nimport {Login} from './components/Login'\nimport {Profil} from './components/Profil'\nimport {getCookie} from './util/util'\nimport { DetailUser } from './components/DetailUser';\n\nconst Main = styled.main`\nposition: relative;\noverflow: hidden;\ntransition: all .15s;\nmargin-left: ${props => (props.extanded ? 240 : 64)}px;\n`;\n\nfunction SideBar(props) {\n  const location = useLocation()\n  const history = useHistory()\n\n  const onToggle = () => {\n    props.data.setExtanded(!props.data.extanded)\n    props.data.setLoad(false)\n  };\n\n  return(\n    <SideNav\n      style={{position: \"fixed\"}}\n      expanded={props.data.extanded}\n      onSelect={(selected) => {\n          const to = '/' + selected;\n          if (location.pathname !== to) {\n            history.push(to);\n          }\n      }}\n      onToggle={() => onToggle()}\n    >\n    \n    <SideNav.Toggle/>\n      <SideNav.Nav defaultSelected={location.pathname === \"/\" ? \"utilisateurs\" : null}>\n        <NavItem eventKey=\"ticket\" active={location.pathname === \"/ticket\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <FontAwesomeIcon icon={faUsers} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n              </NavIcon>\n              <NavText style={{ paddingRight: 32 }}>\n                Gestion des tickets\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"utilisateurs\" active={location.pathname === \"/utilisateurs\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <FontAwesomeIcon icon={faUsers} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n              </NavIcon>\n              <NavText style={{ paddingRight: 32 }}>\n                  Utilisateurs\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"espaces\" active={location.pathname === \"/espaces\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <FontAwesomeIcon icon={faBuilding} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n              </NavIcon>\n              <NavText>\n                  Espaces\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"espaces_privatifs\" active={location.pathname === \"/espaces_privatifs\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <FontAwesomeIcon icon={faKey} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n              </NavIcon>\n              <NavText>\n                  Espaces privatifs\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"equipements\" active={location.pathname === \"/equipements\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <i><FontAwesomeIcon icon={faLaptopHouse} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/></i>\n              </NavIcon>\n              <NavText>\n                  Equipements\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"plateaux_repas\" active={location.pathname === \"/plateaux_repas\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <FontAwesomeIcon icon={faUtensils} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n              </NavIcon>\n              <NavText>\n                  Plateaux repas\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"evenements\" active={location.pathname === \"/evenements\" ? true : false} onClick={() => props.data.setLoad(true)}>\n              <NavIcon>\n                <FontAwesomeIcon icon={faCalendarAlt} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n              </NavIcon>\n              <NavText>\n                  Evenements\n              </NavText>\n          </NavItem>\n          <NavItem eventKey=\"reservations\" active={location.pathname === \"/reservations\" ? true : false}>\n            <NavIcon>\n              <FontAwesomeIcon icon={faFolder} style={{ fontSize: '1.75em', verticalAlign: 'middle' }}/>\n            </NavIcon>\n            <NavText style={{ paddingRight: 32 }} title=\"Settings\">\n                Reservations\n            </NavText>\n            <NavItem eventKey=\"reservations/espaces_privatifs\" active={location.pathname === \"/reservations/espaces_privatifs\"}>\n                <NavText title=\"Espaces privatifs\">\n                  Espaces privatifs\n                </NavText>\n            </NavItem>\n            <NavItem eventKey=\"reservations/equipements\"  active={location.pathname === \"/reservations/equipements\"}>\n                <NavText title=\"Equipements\">\n                  Equipements\n                </NavText>\n            </NavItem>\n            <NavItem eventKey=\"reservations/plateaux_repas\" active={location.pathname === \"/reservations/plateaux_repas\"}>\n                <NavText title=\"Plateaux repas\">\n                  Plateaux repas\n                </NavText>\n            </NavItem>\n            <NavItem eventKey=\"reservations/evenements\" active={location.pathname === \"/reservations/evenements\"}>\n                <NavText title=\"Evenements\">\n                  Evenements\n                </NavText>\n            </NavItem>\n        </NavItem>\n      </SideNav.Nav>\n    </SideNav>\n  )\n}\n\nfunction App() {\n  const[extanded, setExtanded] = useState(true)\n  const[load, setLoad] = useState(true)\n  const[connected, setConnected] = useState(null)\n  const[successModification, setSuccessModification] = useState(null)\n  \n  const handleSuccessModification = (v) => {\n    setSuccessModification(v)\n  }\n  \n  useEffect(() => {\n    document.title = \"Co'work Admin\"\n    document.body.style.backgroundColor = null\n }, []);\n\n  return (\n    <div className=\"App\">\n      <Router basename={'/'}>\n        <Route render={({ location, history }) => (\n            <React.Fragment>\n              {!getCookie(\"id\") && <Route path=\"/\" exact component={props => <Login data={{location, history, setConnected}}/>} />}\n              {getCookie(\"id\") && <>\n                <SideBar data={{setExtanded, extanded, setLoad}}/>\n                <Main extanded={extanded}>\n                    <Header data={{setConnected}}/>\n                    <Container fluid className=\"pr-20 pl-20\" style={{paddingTop: \"2em\", paddingBottom: \"2em\"}}>\n                      <Route path=\"/\" exact component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/utilisateurs\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/espaces\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/espaces_privatifs\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/equipements\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/plateaux_repas\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/evenements\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/profil\" component={props => <Profil data={{handleSuccessModification, successModification}}/>} />\n                      <Route path=\"/details\" component={props => <DetailUser data={{load}}/>} />\n                      <Route path=\"/reservations/espaces_privatifs\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/reservations/equipements\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/reservations/plateaux_repas\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/reservations/evenements\" component={props => <TableData data={{load}}/>} />\n                      <Route path=\"/ticket\" component={props => <TableData data={{load}}/>} />\n                    </Container>\n                </Main>\n              </>}\n            </React.Fragment>\n        )}\n        />\n      </Router>\n    </div>\n  );\n}\n\nfunction RootComponent() {\n  return(\n    <p>\"RootComponent\"</p>\n  )\n}\n\nfunction Home() {\n  return(\n    \"Home\"\n  )\n}\n\nfunction Devices() {\n  return(\n    \"Devices\"\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.js';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}